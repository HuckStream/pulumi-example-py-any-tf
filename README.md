# Pulumi Example Python w/ Any Terraform Provider

## Overview
An example using Pulumi and Python to install and use any Terraform provider

## Development

### Pre-requisites

| Name        | Description                                                                          | Reference |
|-------------|--------------------------------------------------------------------------------------|-----------|
| Commitizen  | Enforces commit message standards for release notes                                  | [Website](https://commitizen-tools.github.io/commitizen/)   |
| GitGuardian | Detects and prevents accidental commit of sensitive values to this Git repository    | [Website](https://www.gitguardian.com/monitor-internal-repositories-for-secrets)   |
| pre-commit  | Implements Git action checks to enforce code standards, security, and chart validity | [Website](https://pre-commit.com/)   |


### Bootstrapping

- Install pre-requisites
```bash
brew install commitizen ggshield pre-commit
```

- Install pre-commit hooks
```bash
pre-commit install --hook-type commit-msg --hook-type pre-commit
```

- Set `GITGUARDIAN_API_KEY` in environment
```bash
export GITGUARDIAN_API_KEY=....
```

- [Optional] Update git client commit hooks to support environment variables

Some Git clients such as GitKraken include their own git client to execute remote repository interactions. In such cases, the shell context from a users terminal configuration such as `~/.bash_profile` or `~/.zshenv` are not loaded, and environment variables such as the GitGuardian API key above are not automatically set. To repair this issue, edit the commit hooks generated and add the appropriate script to load the profile settings. For example, edit these files:

```bash
vim .git/hooks/pre-commit
vim .git/hooks/commit-msg
```

and add the line to source the environment file correct for your setup:

```bash
#!/usr/bin/env bash
# File generated by pre-commit: https://pre-commit.com
# ID: dd5efb44317e38bf03138fd403232d2d

# Add a line such as this
source ~/.zshenv
```
